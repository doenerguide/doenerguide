"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7792],{7792:(P,m,l)=>{l.r(m),l.d(m,{StempelkartenPage:()=>v});var g=l(467),_=l(177),p=l(4341),s=l(1075),e=l(4438),c=l(9011),u=l(9885),d=l(8880);const f=()=>["/account"];function E(n,o){1&n&&(e.j41(0,"ion-item",10),e.nrm(1,"ion-spinner"),e.j41(2,"ion-label"),e.EFF(3,"Stempelkarten werden geladen"),e.k0s()())}function S(n,o){1&n&&(e.j41(0,"ion-label",11),e.EFF(1," Keine Stempelkarten gefunden."),e.nrm(2,"br"),e.EFF(3," Fange an Stempel zu sammeln, damit sie hier auftauchen. "),e.k0s())}function h(n,o){if(1&n){const i=e.RV6();e.j41(0,"ion-item",13),e.bIt("click",function(){const a=e.eBV(i).$implicit,r=e.XpG(2);return e.Njj(r.navigate(a.value))}),e.j41(1,"ion-label"),e.EFF(2),e.k0s(),e.j41(3,"ion-badge",14),e.EFF(4),e.k0s()()}if(2&n){const i=o.$implicit;e.R7$(2),e.JRh(i.value.name),e.R7$(2),e.JRh(i.value.amount)}}function k(n,o){if(1&n&&(e.j41(0,"ion-list"),e.DNE(1,h,5,2,"ion-item",12),e.nI1(2,"keyvalue"),e.k0s()),2&n){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,i.showStamps))}}let v=(()=>{var n;class o{constructor(t,a,r){this.databaseSrv=t,this.userSrv=a,this.navCtrl=r,this.stamps={},this.showStamps={},this.loading=!0,this.objKeys=Object.keys}ionViewWillEnter(){var t=this;return(0,g.A)(function*(){t.stamps=yield t.databaseSrv.getAllUserStamps(t.userSrv.getUser().identification_code);for(const a in t.stamps)t.stamps[a]>0&&(t.showStamps[a]={name:(yield t.databaseSrv.getShop(a)).name,amount:t.stamps[a]});t.loading=!1})()}navigate(t){this.navCtrl.navigateForward(["/card",{stamps:JSON.stringify(t)}])}}return(n=o).\u0275fac=function(t){return new(t||n)(e.rXU(c.B),e.rXU(u.D),e.rXU(d.q9))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-stempelkarten"]],standalone:!0,features:[e.aNF],decls:16,vars:7,consts:[["list",""],[3,"translucent"],["slot","start"],["text","Zur\xfcck",3,"defaultHref"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"ion-padding"],[3,"ngIf"],[3,"ngIf","ngIfElse"],["lines","none",1,"loadingShops"],[1,"loadingShops"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],["slot","end"]],template:function(t,a){if(1&t&&(e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Stempelkarten"),e.k0s()()(),e.j41(6,"ion-content",4)(7,"ion-header",5)(8,"ion-toolbar")(9,"ion-title",6),e.EFF(10,"Stempelkarten"),e.k0s()()(),e.j41(11,"div",7),e.DNE(12,E,4,0,"ng-template",8)(13,S,4,0,"ng-template",9)(14,k,3,3,"ng-template",null,0,e.C5r),e.k0s()()),2&t){const r=e.sdS(15);e.Y8G("translucent",!0),e.R7$(3),e.Y8G("defaultHref",e.lJ4(6,f)),e.R7$(3),e.Y8G("fullscreen",!0),e.R7$(6),e.Y8G("ngIf",a.loading),e.R7$(),e.Y8G("ngIf",!a.loading&&0===a.objKeys(a.showStamps).length)("ngIfElse",r)}},dependencies:[s.bv,s.In,s.QW,s.W9,s.eU,s.uz,s.he,s.nf,s.w2,s.BC,s.ai,s.el,_.MD,_.Sq,_.bT,_.lG,p.YN],styles:[".loadingShops[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;transform:translateY(-50%);width:100%;text-align:center}.loadingShops[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin:0 20px}"]}),o})()}}]);