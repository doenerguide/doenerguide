(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2771],{2771:(v,i,s)=>{"use strict";s.r(i),s.d(i,{AccountPage:()=>N});var r=s(467),t=s(4438),e=s(177),n=s(4341),o=s(1075),l=s(70),c=s(5933),d=s(345);const f=["qrcElement"];let E=(()=>{var u;class A{constructor(a,g){this.renderer=a,this.sanitizer=g,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new t.bkB,this.context=null}ngOnChanges(){var a=this;return(0,r.A)(function*(){yield a.createQRCode()})()}isValidQrCodeText(a){return!1===this.allowEmptyString?!(typeof a>"u"||""===a||"null"===a||null===a):!(typeof a>"u")}toDataURL(a){return new Promise((g,R)=>{(0,c.dY)(this.qrdata,a,(M,T)=>{M?R(M):g(T)})})}toCanvas(a,g){return new Promise((R,M)=>{(0,c.mo)(a,this.qrdata,g,T=>{T?M(T):R("success")})})}toSVG(a){return new Promise((g,R)=>{(0,c.toString)(this.qrdata,a,(M,T)=>{M?R(M):g(T)})})}renderElement(a){for(const g of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,g);this.renderer.appendChild(this.qrcElement.nativeElement,a)}createQRCode(){var a=this;return(0,r.A)(function*(){a.version&&a.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),a.version=40):a.version&&a.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),a.version=1):void 0!==a.version&&isNaN(a.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),a.version=void 0);try{if(!a.isValidQrCodeText(a.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");a.isValidQrCodeText(a.qrdata)&&""===a.qrdata&&(a.qrdata=" ");const g={color:{dark:a.colorDark,light:a.colorLight},errorCorrectionLevel:a.errorCorrectionLevel,margin:a.margin,scale:a.scale,version:a.version,width:a.width},R=a.imageSrc,M=a.imageHeight||40,T=a.imageWidth||40;switch(a.elementType){case"canvas":{const k=a.renderer.createElement("canvas");a.context=k.getContext("2d"),a.toCanvas(k,g).then(()=>{if(a.ariaLabel&&a.renderer.setAttribute(k,"aria-label",`${a.ariaLabel}`),a.title&&a.renderer.setAttribute(k,"title",`${a.title}`),R&&a.context){a.centerImage=new Image(T,M),R!==a.centerImage.src&&(a.centerImage.src=R),M!==a.centerImage.height&&(a.centerImage.height=M),T!==a.centerImage.width&&(a.centerImage.width=T);const F=a.centerImage;F&&(F.onload=()=>{var z;null==(z=a.context)||z.drawImage(F,k.width/2-T/2,k.height/2-M/2,T,M)})}a.renderElement(k),a.emitQRCodeURL(k)}).catch(F=>{console.error("[angularx-qrcode] canvas error:",F)});break}case"svg":{const k=a.renderer.createElement("div");a.toSVG(g).then(F=>{a.renderer.setProperty(k,"innerHTML",F);const z=k.firstChild;a.renderer.setAttribute(z,"height",`${a.width}`),a.renderer.setAttribute(z,"width",`${a.width}`),a.renderElement(z),a.emitQRCodeURL(z)}).catch(F=>{console.error("[angularx-qrcode] svg error:",F)});break}default:{const k=a.renderer.createElement("img");a.toDataURL(g).then(F=>{a.alt&&k.setAttribute("alt",a.alt),a.ariaLabel&&k.setAttribute("aria-label",a.ariaLabel),k.setAttribute("src",F),a.title&&k.setAttribute("title",a.title),a.renderElement(k),a.emitQRCodeURL(k)}).catch(F=>{console.error("[angularx-qrcode] img/url error:",F)})}}}catch(g){console.error("[angularx-qrcode] Error generating QR Code:",g.message)}})()}emitQRCodeURL(a){const g=a.constructor.name;if(g===SVGSVGElement.name){const T=new Blob([a.outerHTML],{type:"image/svg+xml"}),k=URL.createObjectURL(T),F=this.sanitizer.bypassSecurityTrustUrl(k);return void this.qrCodeURL.emit(F)}let R="";g===HTMLCanvasElement.name&&(R=a.toDataURL("image/png")),g===HTMLImageElement.name&&(R=a.src),fetch(R).then(M=>M.blob()).then(M=>URL.createObjectURL(M)).then(M=>this.sanitizer.bypassSecurityTrustUrl(M)).then(M=>{this.qrCodeURL.emit(M)}).catch(M=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+M)})}}return(u=A).\u0275fac=function(a){return new(a||u)(t.rXU(t.sFG),t.rXU(d.up))},u.\u0275cmp=t.VBU({type:u,selectors:[["qrcode"]],viewQuery:function(a,g){if(1&a&&t.GBs(f,7),2&a){let R;t.mGM(R=t.lsd())&&(g.qrcElement=R.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[t.OA$],decls:2,vars:2,consts:[["qrcElement",""]],template:function(a,g){1&a&&t.nrm(0,"div",null,0),2&a&&t.HbH(g.cssClass)},encapsulation:2,changeDetection:0}),A})(),B=(()=>{var u;class A{}return(u=A).\u0275fac=function(a){return new(a||u)},u.\u0275mod=t.$C({type:u}),u.\u0275inj=t.G2t({}),A})();const b=(0,s(7464).F3)("BarcodeScanner",{web:()=>s.e(870).then(s.bind(s,870)).then(u=>new u.BarcodeScannerWeb)});var U=s(9885),L=s(9011),P=s(4239),O=s(7291),Q=s(8880);const w=["sidebutton"],I=()=>["/stempelkarten"];function y(u,A){if(1&u){const h=t.RV6();t.j41(0,"div",22)(1,"h1"),t.EFF(2),t.k0s(),t.j41(3,"ion-button",23),t.bIt("click",function(){t.eBV(h);const g=t.XpG();return t.Njj(g.addStamp())}),t.nrm(4,"ion-icon",24),t.EFF(5," Stempelkarte scannen "),t.k0s(),t.j41(6,"ion-button",23),t.bIt("click",function(){t.eBV(h);const g=t.XpG();return t.Njj(g.removeStamps())}),t.nrm(7,"ion-icon",25),t.EFF(8," Stempelkarte einl\xf6sen "),t.k0s()()}if(2&u){const h=t.XpG();t.R7$(2),t.JRh(null==h.shop?null:h.shop.name),t.R7$(),t.Y8G("disabled",!h.qrSupported),t.R7$(3),t.Y8G("disabled",!h.qrSupported)}}function m(u,A){if(1&u&&t.nrm(0,"qrcode",31),2&u){const h=t.XpG(2);t.Y8G("qrdata",h.myAngularxQrCode)("width",256)("errorCorrectionLevel","M")}}function D(u,A){if(1&u&&(t.j41(0,"ion-card",26)(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"Stempelkarte"),t.k0s()(),t.j41(4,"ion-card-content"),t.DNE(5,m,1,3,"qrcode",27),t.k0s(),t.j41(6,"div",28)(7,"ion-button",29),t.EFF(8," Stempelkarten "),t.nrm(9,"ion-icon",30),t.k0s()()()),2&u){const h=t.XpG();t.R7$(5),t.Y8G("ngIf",""!==h.myAngularxQrCode),t.R7$(2),t.Y8G("routerLink",t.lJ4(2,I))}}let N=(()=>{var u;class A{constructor(a,g,R,M,T,k){this.userSrv=a,this.router=g,this.databaseSrv=R,this.toastCtrl=M,this.storageSrv=T,this.platform=k,this.myAngularxQrCode="",this.passwordOld="",this.passwordNew="",this.passwordConfirm="",this.darkMode=!1,this.qrSupported=!1}ngOnInit(){this.userSrv.isLoggedIn()?this.user=this.userSrv.getUser():this.router.navigate(["/login"]),this.user.doenerladen&&(this.databaseSrv.getShop(this.user.doenerladen).then(a=>this.shop=a),b.isSupported().then(a=>{this.qrSupported=a.supported}))}ionViewWillEnter(){this.user=this.userSrv.getUser(),this.generateQRCode(),this.storageSrv.darkMode().then(a=>{this.darkMode=a})}generateQRCode(){this.myAngularxQrCode=this.user.identification_code??""}logout(){this.sideButton.nativeElement.classList.remove("side"),this.userSrv.logout(),this.router.navigate(["/home",{message:"Logout erfolgreich"}])}toggleDarkMode(){this.storageSrv.toggleDarkMode(),document.body.classList.toggle("dark")}updateUser(){this.databaseSrv.updateUser(this.user).then(a=>{a?(""!==this.passwordNew&&""!==this.passwordOld&&this.passwordOld===this.passwordConfirm?this.databaseSrv.updateUserPassword(this.user.id,this.passwordOld,this.passwordNew):""!==this.passwordNew&&""!==this.passwordOld&&this.passwordOld!==this.passwordConfirm&&this.toastCtrl.create({message:"Passw\xf6rter stimmen nicht \xfcberein",duration:2e3,color:"danger",position:"top"}).then(g=>g.present()),this.toastCtrl.create({message:"Benutzerdaten erfolgreich aktualisiert",duration:2e3,color:"success",position:"top"}).then(g=>g.present())):this.toastCtrl.create({message:"Fehler beim Aktualisieren der Benutzerdaten",duration:2e3,color:"danger",position:"top"}).then(g=>g.present())})}scanQR(){var a=this;return(0,r.A)(function*(){if("denied"===(yield b.checkPermissions()).camera&&"denied"===(yield b.requestPermissions()).camera)return yield a.toastCtrl.create({message:"Zum Scannen von QR-Codes ben\xf6tigen wir Zugriff auf deine Kamera",duration:2e3,color:"danger",icon:"camera-off"}).then(F=>F.present()),"";a.platform.is("android")&&((yield b.isGoogleBarcodeScannerModuleAvailable())||(yield b.installGoogleBarcodeScannerModule()));const{barcodes:R}=yield b.scan();if(0===R.length)return"";const M=R[0];return"QR_CODE"!==M.format?(yield a.toastCtrl.create({message:"Bitte scanne nur QR-Codes",duration:2e3,color:"danger",icon:"barcode"}).then(k=>k.present()),""):M.displayValue})()}addStamp(){var a=this;return(0,r.A)(function*(){var T;let g=yield a.scanQR();if(""===g)return;let R=null==(T=a.user)?void 0:T.doenerladen;if(void 0===R)return;let M=yield a.databaseSrv.addUserStamp(g,R);M.success?a.toastCtrl.create({message:"Stempel hinzugef\xfcgt",duration:2e3,color:"success",position:"top"}).then(k=>k.present()):a.toastCtrl.create({message:M.message,duration:2e3,color:"danger",position:"top"}).then(k=>k.present())})()}removeStamps(){var a=this;return(0,r.A)(function*(){var k;let g=yield a.scanQR();if(""===g)return;let R=null==(k=a.user)?void 0:k.doenerladen;if(void 0===R)return;let M=yield a.databaseSrv.getUserStamps(g,R);if(10!==M)return void a.toastCtrl.create({message:"Nicht gen\xfcgend Stempel. Es fehlen noch "+(10-M)+" Stempel",duration:2e3,color:"danger",position:"top"}).then(F=>F.present());let T=yield a.databaseSrv.removeUserStamps(g,R);T.success?a.toastCtrl.create({message:"Stempelkarte wurde eingel\xf6st!",duration:2e3,color:"success",position:"top"}).then(F=>F.present()):a.toastCtrl.create({message:T.message,duration:2e3,color:"danger",position:"top"}).then(F=>F.present())})()}}return(u=A).\u0275fac=function(a){return new(a||u)(t.rXU(U.D),t.rXU(l.Ix),t.rXU(L.B),t.rXU(P.K_),t.rXU(O.n),t.rXU(Q.OD))},u.\u0275cmp=t.VBU({type:u,selectors:[["app-account"]],viewQuery:function(a,g){if(1&a&&t.GBs(w,5,t.aKT),2&a){let R;t.mGM(R=t.lsd())&&(g.sideButton=R.first)}},standalone:!0,features:[t.aNF],decls:49,vars:11,consts:[["stampCard",""],["sidebutton",""],[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[3,"ngIf","ngIfElse"],["lines","none"],["type","email","label","E-Mail",3,"ngModelChange","ngModel"],["type","password","label","Altes Passwort","placeholder","Altes Passwort",3,"ngModelChange","ngModel"],["type","password","label","Neues Passwort","placeholder","Neues Passwort",3,"ngModelChange","ngModel"],["type","password","label","Passwort wiederholen","placeholder","Passwort wiederholen",3,"ngModelChange","ngModel"],["fill","clear",3,"click"],["slot","end","name","arrow-forward-outline"],[1,"appSettings"],[3,"ngModelChange","ionChange","ngModel"],[1,"sureQuestions"],["fill","outline",1,"abbrechen",3,"click"],["color","danger",1,"abmelden",3,"click"],[1,"buttonContainer"],["color","danger",1,"anim",3,"click"],["slot","start","name","log-out-outline"],[1,"ion-padding"],["expand","block",3,"click","disabled"],["name","qr-code-outline","slot","start"],["name","ribbon-outline","slot","start"],[1,"stampCard"],[3,"qrdata","width","errorCorrectionLevel",4,"ngIf"],["id","stempel"],["expand","block",3,"routerLink"],["name","arrow-forward-outline","slot","end"],[3,"qrdata","width","errorCorrectionLevel"]],template:function(a,g){if(1&a){const R=t.RV6();t.j41(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3),t.k0s()()(),t.j41(4,"ion-content",3)(5,"ion-header",4)(6,"ion-toolbar")(7,"ion-title",5),t.EFF(8),t.k0s(),t.j41(9,"ion-card-subtitle"),t.EFF(10,"Dein D\xf6nerGuide-Profil"),t.k0s()()(),t.j41(11,"div"),t.DNE(12,y,9,3,"ng-template",6)(13,D,10,3,"ng-template",null,0,t.C5r),t.j41(15,"ion-card")(16,"ion-card-header")(17,"ion-card-title"),t.EFF(18,"Deine Daten"),t.k0s()(),t.j41(19,"ion-card-content")(20,"ion-item",7)(21,"ion-input",8),t.mxI("ngModelChange",function(T){return t.eBV(R),t.DH7(g.user.mail,T)||(g.user.mail=T),t.Njj(T)}),t.k0s()(),t.j41(22,"ion-item",7)(23,"ion-input",9),t.mxI("ngModelChange",function(T){return t.eBV(R),t.DH7(g.passwordOld,T)||(g.passwordOld=T),t.Njj(T)}),t.k0s()(),t.j41(24,"ion-item",7)(25,"ion-input",10),t.mxI("ngModelChange",function(T){return t.eBV(R),t.DH7(g.passwordNew,T)||(g.passwordNew=T),t.Njj(T)}),t.k0s()(),t.j41(26,"ion-item",7)(27,"ion-input",11),t.mxI("ngModelChange",function(T){return t.eBV(R),t.DH7(g.passwordConfirm,T)||(g.passwordConfirm=T),t.Njj(T)}),t.k0s()()(),t.j41(28,"ion-button",12),t.bIt("click",function(){return t.eBV(R),t.Njj(g.updateUser())}),t.EFF(29," Speichern "),t.nrm(30,"ion-icon",13),t.k0s()(),t.j41(31,"ion-card",14)(32,"ion-card-header")(33,"ion-card-title"),t.EFF(34,"App Einstellungen"),t.k0s()(),t.j41(35,"ion-card-content")(36,"ion-item")(37,"ion-toggle",15),t.mxI("ngModelChange",function(T){return t.eBV(R),t.DH7(g.darkMode,T)||(g.darkMode=T),t.Njj(T)}),t.bIt("ionChange",function(){return t.eBV(R),t.Njj(g.toggleDarkMode())}),t.EFF(38," Dark Mode "),t.k0s()()(),t.j41(39,"div",16)(40,"ion-button",17),t.bIt("click",function(){return t.eBV(R),t.Njj(g.sideButton.nativeElement.classList.remove("side"))}),t.EFF(41," Abbrechen "),t.k0s(),t.j41(42,"ion-button",18),t.bIt("click",function(){return t.eBV(R),t.Njj(g.logout())}),t.EFF(43," Abmelden "),t.k0s()(),t.j41(44,"div",19)(45,"ion-button",20,1),t.bIt("click",function(){return t.eBV(R),t.Njj(g.sideButton.nativeElement.classList.add("side"))}),t.nrm(47,"ion-icon",21),t.EFF(48," Abmelden "),t.k0s()()()()()}if(2&a){const R=t.sdS(14);t.Y8G("translucent",!0),t.R7$(3),t.JRh(g.user.vorname),t.R7$(),t.Y8G("fullscreen",!0),t.R7$(4),t.JRh(g.user.vorname),t.R7$(4),t.Y8G("ngIf",g.user.doenerladen)("ngIfElse",R),t.R7$(9),t.R50("ngModel",g.user.mail),t.R7$(2),t.R50("ngModel",g.passwordOld),t.R7$(2),t.R50("ngModel",g.passwordNew),t.R7$(2),t.R50("ngModel",g.passwordConfirm),t.R7$(10),t.R50("ngModel",g.darkMode)}},dependencies:[e.MD,e.bT,n.YN,n.BC,n.vS,o.bv,o.Jm,o.b_,o.I9,o.ME,o.HW,o.tN,o.W9,o.eU,o.iq,o.$w,o.uz,o.BC,o.BY,o.ai,o.hB,o.Gw,o.N7,l.iI,l.Wk,B,E],styles:["ion-toolbar[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{padding:0 12px;font-size:1em}ion-card-content[_ngcontent-%COMP%]{padding:0 12px}ion-card[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:not(.anim){margin-left:auto}.stampCard[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;text-align:center}.buttonContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;padding-bottom:5px}.anim[_ngcontent-%COMP%]{max-width:100%;width:97%;height:50px;float:right;margin-bottom:0;transition:width .6s ease}.appSettings[_ngcontent-%COMP%]   ion-button.side[_ngcontent-%COMP%]{transition-timing-function:ease-in-out;width:50px;max-height:50px;margin-left:auto;margin-bottom:0;right:0;font-size:0}.appSettings[_ngcontent-%COMP%]   ion-button.side[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;margin:0}.sureQuestions[_ngcontent-%COMP%]{position:absolute}.sureQuestions[_ngcontent-%COMP%]   .abmelden[_ngcontent-%COMP%]{margin-left:10px;height:50px;margin-right:auto}.sureQuestions[_ngcontent-%COMP%]   .abbrechen[_ngcontent-%COMP%]{margin-left:24px;height:50px;margin-right:0}#stempel[_ngcontent-%COMP%]{margin:10px}"]}),A})()},2624:v=>{"use strict";var i={single_source_shortest_paths:function(s,r,t){var e={},n={};n[r]=0;var l,c,d,f,E,p,o=i.PriorityQueue.make();for(o.push(r,0);!o.empty();)for(d in f=(l=o.pop()).cost,E=s[c=l.value]||{})E.hasOwnProperty(d)&&(p=f+E[d],(typeof n[d]>"u"||n[d]>p)&&(n[d]=p,o.push(d,p),e[d]=c));if(typeof t<"u"&&typeof n[t]>"u"){var _=["Could not find a path from ",r," to ",t,"."].join("");throw new Error(_)}return e},extract_shortest_path_from_predecessor_list:function(s,r){for(var t=[],e=r;e;)t.push(e),e=s[e];return t.reverse(),t},find_path:function(s,r,t){var e=i.single_source_shortest_paths(s,r,t);return i.extract_shortest_path_from_predecessor_list(e,t)},PriorityQueue:{make:function(s){var e,r=i.PriorityQueue,t={};for(e in s=s||{},r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t.queue=[],t.sorter=s.sorter||r.default_sorter,t},default_sorter:function(s,r){return s.cost-r.cost},push:function(s,r){this.queue.push({value:s,cost:r}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};v.exports=i},3174:v=>{"use strict";v.exports=function(s){for(var r=[],t=s.length,e=0;e<t;e++){var n=s.charCodeAt(e);if(n>=55296&&n<=56319&&t>e+1){var o=s.charCodeAt(e+1);o>=56320&&o<=57343&&(n=1024*(n-55296)+o-56320+65536,e+=1)}n<128?r.push(n):n<2048?(r.push(n>>6|192),r.push(63&n|128)):n<55296||n>=57344&&n<65536?(r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)):n>=65536&&n<=1114111?(r.push(n>>18|240),r.push(n>>12&63|128),r.push(n>>6&63|128),r.push(63&n|128)):r.push(239,191,189)}return new Uint8Array(r).buffer}},5933:(v,i,s)=>{const t=s(2836),e=s(9460),n=s(4649),o=s(6511);function l(c,d,f,E,B){const p=[].slice.call(arguments,1),C=p.length,S="function"==typeof p[C-1];if(!S&&!t())throw new Error("Callback required as last argument");if(!S){if(C<1)throw new Error("Too few arguments provided");return 1===C?(f=d,d=E=void 0):2===C&&!d.getContext&&(E=f,f=d,d=void 0),new Promise(function(_,j){try{const b=e.create(f,E);_(c(b,d,E))}catch(b){j(b)}})}if(C<2)throw new Error("Too few arguments provided");2===C?(B=f,f=d,d=E=void 0):3===C&&(d.getContext&&typeof B>"u"?(B=E,E=void 0):(B=E,E=f,f=d,d=void 0));try{const _=e.create(f,E);B(null,c(_,d,E))}catch(_){B(_)}}i.mo=l.bind(null,n.render),i.dY=l.bind(null,n.renderToDataURL),i.toString=l.bind(null,function(c,d,f){return o.render(c,f)})},2836:v=>{v.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6214:(v,i,s)=>{const r=s(9089).getSymbolSize;i.getRowColCoords=function(e){if(1===e)return[];const n=Math.floor(e/7)+2,o=r(e),l=145===o?26:2*Math.ceil((o-13)/(2*n-2)),c=[o-7];for(let d=1;d<n-1;d++)c[d]=c[d-1]-l;return c.push(6),c.reverse()},i.getPositions=function(e){const n=[],o=i.getRowColCoords(e),l=o.length;for(let c=0;c<l;c++)for(let d=0;d<l;d++)0===c&&0===d||0===c&&d===l-1||c===l-1&&0===d||n.push([o[c],o[d]]);return n}},1018:(v,i,s)=>{const r=s(1677),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(n){this.mode=r.ALPHANUMERIC,this.data=n}e.getBitsLength=function(o){return 11*Math.floor(o/2)+o%2*6},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(o){let l;for(l=0;l+2<=this.data.length;l+=2){let c=45*t.indexOf(this.data[l]);c+=t.indexOf(this.data[l+1]),o.put(c,11)}this.data.length%2&&o.put(t.indexOf(this.data[l]),6)},v.exports=e},4662:v=>{function i(){this.buffer=[],this.length=0}i.prototype={get:function(s){const r=Math.floor(s/8);return 1==(this.buffer[r]>>>7-s%8&1)},put:function(s,r){for(let t=0;t<r;t++)this.putBit(1==(s>>>r-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(s){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),s&&(this.buffer[r]|=128>>>this.length%8),this.length++}},v.exports=i},5941:v=>{function i(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}i.prototype.set=function(s,r,t,e){const n=s*this.size+r;this.data[n]=t,e&&(this.reservedBit[n]=!0)},i.prototype.get=function(s,r){return this.data[s*this.size+r]},i.prototype.xor=function(s,r,t){this.data[s*this.size+r]^=t},i.prototype.isReserved=function(s,r){return this.reservedBit[s*this.size+r]},v.exports=i},4969:(v,i,s)=>{const r=s(3174),t=s(1677);function e(n){this.mode=t.BYTE,"string"==typeof n&&(n=r(n)),this.data=new Uint8Array(n)}e.getBitsLength=function(o){return 8*o},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let o=0,l=this.data.length;o<l;o++)n.put(this.data[o],8)},v.exports=e},3677:(v,i,s)=>{const r=s(7424),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];i.getBlocksCount=function(o,l){switch(l){case r.L:return t[4*(o-1)+0];case r.M:return t[4*(o-1)+1];case r.Q:return t[4*(o-1)+2];case r.H:return t[4*(o-1)+3];default:return}},i.getTotalCodewordsCount=function(o,l){switch(l){case r.L:return e[4*(o-1)+0];case r.M:return e[4*(o-1)+1];case r.Q:return e[4*(o-1)+2];case r.H:return e[4*(o-1)+3];default:return}}},7424:(v,i)=>{i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2},i.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},i.from=function(t,e){if(i.isValid(t))return t;try{return function s(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+r)}}(t)}catch{return e}}},6269:(v,i,s)=>{const r=s(9089).getSymbolSize;i.getPositions=function(n){const o=r(n);return[[0,0],[o-7,0],[0,o-7]]}},6254:(v,i,s)=>{const r=s(9089),n=r.getBCHDigit(1335);i.getEncodedBits=function(l,c){const d=l.bit<<3|c;let f=d<<10;for(;r.getBCHDigit(f)-n>=0;)f^=1335<<r.getBCHDigit(f)-n;return 21522^(d<<10|f)}},6686:(v,i)=>{const s=new Uint8Array(512),r=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)s[n]=e,r[e]=n,e<<=1,256&e&&(e^=285);for(let n=255;n<512;n++)s[n]=s[n-255]})(),i.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},i.exp=function(e){return s[e]},i.mul=function(e,n){return 0===e||0===n?0:s[r[e]+r[n]]}},3264:(v,i,s)=>{const r=s(1677),t=s(9089);function e(n){this.mode=r.KANJI,this.data=n}e.getBitsLength=function(o){return 13*o},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let o;for(o=0;o<this.data.length;o++){let l=t.toSJIS(this.data[o]);if(l>=33088&&l<=40956)l-=33088;else{if(!(l>=57408&&l<=60351))throw new Error("Invalid SJIS character: "+this.data[o]+"\nMake sure your charset is UTF-8");l-=49472}l=192*(l>>>8&255)+(255&l),n.put(l,13)}},v.exports=e},3361:(v,i)=>{i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(t,e,n){switch(t){case i.Patterns.PATTERN000:return(e+n)%2==0;case i.Patterns.PATTERN001:return e%2==0;case i.Patterns.PATTERN010:return n%3==0;case i.Patterns.PATTERN011:return(e+n)%3==0;case i.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case i.Patterns.PATTERN101:return e*n%2+e*n%3==0;case i.Patterns.PATTERN110:return(e*n%2+e*n%3)%2==0;case i.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}i.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},i.from=function(e){return i.isValid(e)?parseInt(e,10):void 0},i.getPenaltyN1=function(e){const n=e.size;let o=0,l=0,c=0,d=null,f=null;for(let E=0;E<n;E++){l=c=0,d=f=null;for(let B=0;B<n;B++){let p=e.get(E,B);p===d?l++:(l>=5&&(o+=l-5+3),d=p,l=1),p=e.get(B,E),p===f?c++:(c>=5&&(o+=c-5+3),f=p,c=1)}l>=5&&(o+=l-5+3),c>=5&&(o+=c-5+3)}return o},i.getPenaltyN2=function(e){const n=e.size;let o=0;for(let l=0;l<n-1;l++)for(let c=0;c<n-1;c++){const d=e.get(l,c)+e.get(l,c+1)+e.get(l+1,c)+e.get(l+1,c+1);(4===d||0===d)&&o++}return 3*o},i.getPenaltyN3=function(e){const n=e.size;let o=0,l=0,c=0;for(let d=0;d<n;d++){l=c=0;for(let f=0;f<n;f++)l=l<<1&2047|e.get(d,f),f>=10&&(1488===l||93===l)&&o++,c=c<<1&2047|e.get(f,d),f>=10&&(1488===c||93===c)&&o++}return 40*o},i.getPenaltyN4=function(e){let n=0;const o=e.data.length;for(let c=0;c<o;c++)n+=e.data[c];return 10*Math.abs(Math.ceil(100*n/o/5)-10)},i.applyMask=function(e,n){const o=n.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)n.isReserved(c,l)||n.xor(c,l,r(e,c,l))},i.getBestMask=function(e,n){const o=Object.keys(i.Patterns).length;let l=0,c=1/0;for(let d=0;d<o;d++){n(d),i.applyMask(d,e);const f=i.getPenaltyN1(e)+i.getPenaltyN2(e)+i.getPenaltyN3(e)+i.getPenaltyN4(e);i.applyMask(d,e),f<c&&(c=f,l=d)}return l}},1677:(v,i,s)=>{const r=s(377),t=s(9359);i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(o,l){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!r.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?o.ccBits[0]:l<27?o.ccBits[1]:o.ccBits[2]},i.getBestModeForData=function(o){return t.testNumeric(o)?i.NUMERIC:t.testAlphanumeric(o)?i.ALPHANUMERIC:t.testKanji(o)?i.KANJI:i.BYTE},i.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},i.isValid=function(o){return o&&o.bit&&o.ccBits},i.from=function(o,l){if(i.isValid(o))return o;try{return function e(n){if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+n)}}(o)}catch{return l}}},6628:(v,i,s)=>{const r=s(1677);function t(e){this.mode=r.NUMERIC,this.data=e.toString()}t.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let o,l,c;for(o=0;o+3<=this.data.length;o+=3)l=this.data.substr(o,3),c=parseInt(l,10),n.put(c,10);const d=this.data.length-o;d>0&&(l=this.data.substr(o),c=parseInt(l,10),n.put(c,3*d+1))},v.exports=t},1744:(v,i,s)=>{const r=s(6686);i.mul=function(e,n){const o=new Uint8Array(e.length+n.length-1);for(let l=0;l<e.length;l++)for(let c=0;c<n.length;c++)o[l+c]^=r.mul(e[l],n[c]);return o},i.mod=function(e,n){let o=new Uint8Array(e);for(;o.length-n.length>=0;){const l=o[0];for(let d=0;d<n.length;d++)o[d]^=r.mul(n[d],l);let c=0;for(;c<o.length&&0===o[c];)c++;o=o.slice(c)}return o},i.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let o=0;o<e;o++)n=i.mul(n,new Uint8Array([1,r.exp(o)]));return n}},9460:(v,i,s)=>{const r=s(9089),t=s(7424),e=s(4662),n=s(5941),o=s(6214),l=s(6269),c=s(3361),d=s(3677),f=s(6289),E=s(1252),B=s(6254),p=s(1677),C=s(2868);function U(w,I,y){const m=w.size,D=B.getEncodedBits(I,y);let N,u;for(N=0;N<15;N++)u=1==(D>>N&1),w.set(N<6?N:N<8?N+1:m-15+N,8,u,!0),w.set(8,N<8?m-N-1:N<9?15-N-1+1:15-N-1,u,!0);w.set(m-8,8,1,!0)}function Q(w,I,y,m){let D;if(Array.isArray(w))D=C.fromArray(w);else{if("string"!=typeof w)throw new Error("Invalid data");{let a=I;if(!a){const g=C.rawSplit(w);a=E.getBestVersionForData(g,y)}D=C.fromString(w,a||40)}}const N=E.getBestVersionForData(D,y);if(!N)throw new Error("The amount of data is too big to be stored in a QR Code");if(I){if(I<N)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+N+".\n")}else I=N;const u=function P(w,I,y){const m=new e;y.forEach(function(h){m.put(h.mode.bit,4),m.put(h.getLength(),p.getCharCountIndicator(h.mode,w)),h.write(m)});const u=8*(r.getSymbolTotalCodewords(w)-d.getTotalCodewordsCount(w,I));for(m.getLengthInBits()+4<=u&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(0);const A=(u-m.getLengthInBits())/8;for(let h=0;h<A;h++)m.put(h%2?17:236,8);return function O(w,I,y){const m=r.getSymbolTotalCodewords(I),N=m-d.getTotalCodewordsCount(I,y),u=d.getBlocksCount(I,y),h=u-m%u,a=Math.floor(m/u),g=Math.floor(N/u),R=g+1,M=a-g,T=new f(M);let k=0;const F=new Array(u),z=new Array(u);let K=0;const x=new Uint8Array(w.buffer);for(let G=0;G<u;G++){const J=G<h?g:R;F[G]=x.slice(k,k+J),z[G]=T.encode(F[G]),k+=J,K=Math.max(K,J)}const Y=new Uint8Array(m);let H,V,W=0;for(H=0;H<K;H++)for(V=0;V<u;V++)H<F[V].length&&(Y[W++]=F[V][H]);for(H=0;H<M;H++)for(V=0;V<u;V++)Y[W++]=z[V][H];return Y}(m,w,I)}(I,y,D),A=r.getSymbolSize(I),h=new n(A);return function S(w,I){const y=w.size,m=l.getPositions(I);for(let D=0;D<m.length;D++){const N=m[D][0],u=m[D][1];for(let A=-1;A<=7;A++)if(!(N+A<=-1||y<=N+A))for(let h=-1;h<=7;h++)u+h<=-1||y<=u+h||w.set(N+A,u+h,A>=0&&A<=6&&(0===h||6===h)||h>=0&&h<=6&&(0===A||6===A)||A>=2&&A<=4&&h>=2&&h<=4,!0)}}(h,I),function _(w){const I=w.size;for(let y=8;y<I-8;y++){const m=y%2==0;w.set(y,6,m,!0),w.set(6,y,m,!0)}}(h),function j(w,I){const y=o.getPositions(I);for(let m=0;m<y.length;m++){const D=y[m][0],N=y[m][1];for(let u=-2;u<=2;u++)for(let A=-2;A<=2;A++)w.set(D+u,N+A,-2===u||2===u||-2===A||2===A||0===u&&0===A,!0)}}(h,I),U(h,y,0),I>=7&&function b(w,I){const y=w.size,m=E.getEncodedBits(I);let D,N,u;for(let A=0;A<18;A++)D=Math.floor(A/3),N=A%3+y-8-3,u=1==(m>>A&1),w.set(D,N,u,!0),w.set(N,D,u,!0)}(h,I),function L(w,I){const y=w.size;let m=-1,D=y-1,N=7,u=0;for(let A=y-1;A>0;A-=2)for(6===A&&A--;;){for(let h=0;h<2;h++)if(!w.isReserved(D,A-h)){let a=!1;u<I.length&&(a=1==(I[u]>>>N&1)),w.set(D,A-h,a),N--,-1===N&&(u++,N=7)}if(D+=m,D<0||y<=D){D-=m,m=-m;break}}}(h,u),isNaN(m)&&(m=c.getBestMask(h,U.bind(null,h,y))),c.applyMask(m,h),U(h,y,m),{modules:h,version:I,errorCorrectionLevel:y,maskPattern:m,segments:D}}i.create=function(I,y){if(typeof I>"u"||""===I)throw new Error("No input text");let D,N,m=t.M;return typeof y<"u"&&(m=t.from(y.errorCorrectionLevel,t.M),D=E.from(y.version),N=c.from(y.maskPattern),y.toSJISFunc&&r.setToSJISFunction(y.toSJISFunc)),Q(I,D,m,N)}},6289:(v,i,s)=>{const r=s(1744);function t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}t.prototype.initialize=function(n){this.degree=n,this.genPoly=r.generateECPolynomial(this.degree)},t.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(n.length+this.degree);o.set(n);const l=r.mod(o,this.genPoly),c=this.degree-l.length;if(c>0){const d=new Uint8Array(this.degree);return d.set(l,c),d}return l},v.exports=t},9359:(v,i)=>{const s="[0-9]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+")(?:.|[\r\n]))+";i.KANJI=new RegExp(t,"g"),i.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),i.BYTE=new RegExp(e,"g"),i.NUMERIC=new RegExp(s,"g"),i.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const n=new RegExp("^"+t+"$"),o=new RegExp("^"+s+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");i.testKanji=function(d){return n.test(d)},i.testNumeric=function(d){return o.test(d)},i.testAlphanumeric=function(d){return l.test(d)}},2868:(v,i,s)=>{const r=s(1677),t=s(6628),e=s(1018),n=s(4969),o=s(3264),l=s(9359),c=s(9089),d=s(2624);function f(b){return unescape(encodeURIComponent(b)).length}function E(b,U,L){const P=[];let O;for(;null!==(O=b.exec(L));)P.push({data:O[0],index:O.index,mode:U,length:O[0].length});return P}function B(b){const U=E(l.NUMERIC,r.NUMERIC,b),L=E(l.ALPHANUMERIC,r.ALPHANUMERIC,b);let P,O;return c.isKanjiModeEnabled()?(P=E(l.BYTE,r.BYTE,b),O=E(l.KANJI,r.KANJI,b)):(P=E(l.BYTE_KANJI,r.BYTE,b),O=[]),U.concat(L,P,O).sort(function(w,I){return w.index-I.index}).map(function(w){return{data:w.data,mode:w.mode,length:w.length}})}function p(b,U){switch(U){case r.NUMERIC:return t.getBitsLength(b);case r.ALPHANUMERIC:return e.getBitsLength(b);case r.KANJI:return o.getBitsLength(b);case r.BYTE:return n.getBitsLength(b)}}function j(b,U){let L;const P=r.getBestModeForData(b);if(L=r.from(U,P),L!==r.BYTE&&L.bit<P.bit)throw new Error('"'+b+'" cannot be encoded with mode '+r.toString(L)+".\n Suggested mode is: "+r.toString(P));switch(L===r.KANJI&&!c.isKanjiModeEnabled()&&(L=r.BYTE),L){case r.NUMERIC:return new t(b);case r.ALPHANUMERIC:return new e(b);case r.KANJI:return new o(b);case r.BYTE:return new n(b)}}i.fromArray=function(U){return U.reduce(function(L,P){return"string"==typeof P?L.push(j(P,null)):P.data&&L.push(j(P.data,P.mode)),L},[])},i.fromString=function(U,L){const O=function S(b){const U=[];for(let L=0;L<b.length;L++){const P=b[L];switch(P.mode){case r.NUMERIC:U.push([P,{data:P.data,mode:r.ALPHANUMERIC,length:P.length},{data:P.data,mode:r.BYTE,length:P.length}]);break;case r.ALPHANUMERIC:U.push([P,{data:P.data,mode:r.BYTE,length:P.length}]);break;case r.KANJI:U.push([P,{data:P.data,mode:r.BYTE,length:f(P.data)}]);break;case r.BYTE:U.push([{data:P.data,mode:r.BYTE,length:f(P.data)}])}}return U}(B(U,c.isKanjiModeEnabled())),Q=function _(b,U){const L={},P={start:{}};let O=["start"];for(let Q=0;Q<b.length;Q++){const w=b[Q],I=[];for(let y=0;y<w.length;y++){const m=w[y],D=""+Q+y;I.push(D),L[D]={node:m,lastCount:0},P[D]={};for(let N=0;N<O.length;N++){const u=O[N];L[u]&&L[u].node.mode===m.mode?(P[u][D]=p(L[u].lastCount+m.length,m.mode)-p(L[u].lastCount,m.mode),L[u].lastCount+=m.length):(L[u]&&(L[u].lastCount=m.length),P[u][D]=p(m.length,m.mode)+4+r.getCharCountIndicator(m.mode,U))}}O=I}for(let Q=0;Q<O.length;Q++)P[O[Q]].end=0;return{map:P,table:L}}(O,L),w=d.find_path(Q.map,"start","end"),I=[];for(let y=1;y<w.length-1;y++)I.push(Q.table[w[y]].node);return i.fromArray(function C(b){return b.reduce(function(U,L){const P=U.length-1>=0?U[U.length-1]:null;return P&&P.mode===L.mode?(U[U.length-1].data+=L.data,U):(U.push(L),U)},[])}(I))},i.rawSplit=function(U){return i.fromArray(B(U,c.isKanjiModeEnabled()))}},9089:(v,i)=>{let s;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];i.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},i.getSymbolTotalCodewords=function(e){return r[e]},i.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},i.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');s=e},i.isKanjiModeEnabled=function(){return typeof s<"u"},i.toSJIS=function(e){return s(e)}},377:(v,i)=>{i.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}},1252:(v,i,s)=>{const r=s(9089),t=s(3677),e=s(7424),n=s(1677),o=s(377),c=r.getBCHDigit(7973);function f(p,C){return n.getCharCountIndicator(p,C)+4}function E(p,C){let S=0;return p.forEach(function(_){const j=f(_.mode,C);S+=j+_.getBitsLength()}),S}i.from=function(C,S){return o.isValid(C)?parseInt(C,10):S},i.getCapacity=function(C,S,_){if(!o.isValid(C))throw new Error("Invalid QR Code version");typeof _>"u"&&(_=n.BYTE);const U=8*(r.getSymbolTotalCodewords(C)-t.getTotalCodewordsCount(C,S));if(_===n.MIXED)return U;const L=U-f(_,C);switch(_){case n.NUMERIC:return Math.floor(L/10*3);case n.ALPHANUMERIC:return Math.floor(L/11*2);case n.KANJI:return Math.floor(L/13);default:return Math.floor(L/8)}},i.getBestVersionForData=function(C,S){let _;const j=e.from(S,e.M);if(Array.isArray(C)){if(C.length>1)return function B(p,C){for(let S=1;S<=40;S++)if(E(p,S)<=i.getCapacity(S,C,n.MIXED))return S}(C,j);if(0===C.length)return 1;_=C[0]}else _=C;return function d(p,C,S){for(let _=1;_<=40;_++)if(C<=i.getCapacity(_,S,p))return _}(_.mode,_.getLength(),j)},i.getEncodedBits=function(C){if(!o.isValid(C)||C<7)throw new Error("Invalid QR Code version");let S=C<<12;for(;r.getBCHDigit(S)-c>=0;)S^=7973<<r.getBCHDigit(S)-c;return C<<12|S}},4649:(v,i,s)=>{const r=s(7077);i.render=function(o,l,c){let d=c,f=l;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),l||(f=function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),d=r.getOptions(d);const E=r.getImageWidth(o.modules.size,d),B=f.getContext("2d"),p=B.createImageData(E,E);return r.qrToImageData(p.data,o,d),function t(n,o,l){n.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=l,o.width=l,o.style.height=l+"px",o.style.width=l+"px"}(B,f,E),B.putImageData(p,0,0),f},i.renderToDataURL=function(o,l,c){let d=c;return typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),d||(d={}),i.render(o,l,d).toDataURL(d.type||"image/png",(d.rendererOpts||{}).quality)}},6511:(v,i,s)=>{const r=s(7077);function t(o,l){const c=o.a/255,d=l+'="'+o.hex+'"';return c<1?d+" "+l+'-opacity="'+c.toFixed(2).slice(1)+'"':d}function e(o,l,c){let d=o+l;return typeof c<"u"&&(d+=" "+c),d}i.render=function(l,c,d){const f=r.getOptions(c),E=l.modules.size,B=l.modules.data,p=E+2*f.margin,C=f.color.light.a?"<path "+t(f.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",S="<path "+t(f.color.dark,"stroke")+' d="'+function n(o,l,c){let d="",f=0,E=!1,B=0;for(let p=0;p<o.length;p++){const C=Math.floor(p%l),S=Math.floor(p/l);!C&&!E&&(E=!0),o[p]?(B++,p>0&&C>0&&o[p-1]||(d+=E?e("M",C+c,.5+S+c):e("m",f,0),f=0,E=!1),C+1<l&&o[p+1]||(d+=e("h",B),B=0)):f++}return d}(B,E,f.margin)+'"/>',b='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+'viewBox="0 0 '+p+" "+p+'" shape-rendering="crispEdges">'+C+S+"</svg>\n";return"function"==typeof d&&d(null,b),b}},7077:(v,i)=>{function s(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");let t=r.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+r);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(n){return[n,n]}))),6===t.length&&t.push("F","F");const e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+t.slice(0,6).join("")}}i.getOptions=function(t){t||(t={}),t.color||(t.color={});const n=t.width&&t.width>=21?t.width:void 0;return{width:n,scale:n?4:t.scale||4,margin:typeof t.margin>"u"||null===t.margin||t.margin<0?4:t.margin,color:{dark:s(t.color.dark||"#000000ff"),light:s(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},i.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},i.getImageWidth=function(t,e){const n=i.getScale(t,e);return Math.floor((t+2*e.margin)*n)},i.qrToImageData=function(t,e,n){const o=e.modules.size,l=e.modules.data,c=i.getScale(o,n),d=Math.floor((o+2*n.margin)*c),f=n.margin*c,E=[n.color.light,n.color.dark];for(let B=0;B<d;B++)for(let p=0;p<d;p++){let C=4*(B*d+p),S=n.color.light;B>=f&&p>=f&&B<d-f&&p<d-f&&(S=E[l[Math.floor((B-f)/c)*o+Math.floor((p-f)/c)]?1:0]),t[C++]=S.r,t[C++]=S.g,t[C++]=S.b,t[C]=S.a}}}}]);